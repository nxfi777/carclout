@import "tailwindcss";

:root {
  /* Deep navy base with indigo/violet accents */
  --background: #0b1020;
  --foreground: #e7ecff;
  /* Indigo leaning primary to match header/background */
  --primary: #5b6cff; /* indigo-500/600 mix */
  --primary-foreground: #0a0d1a;
  --popover: #0e152d;
  --popover-foreground: #e7ecff;
  --card: #111a36;
  --card-foreground: #e7ecff;
  --border: #263166;
  --input: #17224a;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--primary);
  --font-sans: var(--font-poppins);
  --font-mono: var(--font-geist-mono);
  --font-poppins: var(--font-poppins);
  --font-roboto: var(--font-roboto);
  
  /* Normalized z-index scale (tighter increments) */
  --z-1: 1;
  --z-2: 2;
  --z-3: 3;
  --z-4: 4;
  --z-5: 5;
}

body {
  background: var(--background);
  color: var(--foreground);
}

/* Smooth scroll for anchor navigation */
html {
  scroll-behavior: smooth;
}

/* Prevent horizontal scrolling on iOS (Safari may scroll the <html> element) */
html, body { max-width: 100vw; overflow-x: hidden; }
@supports (overflow: clip) {
  html, body { overflow-x: clip; }
}

/* Clip hero decorative glows that may bleed via filter bounds */
.page-glow { overflow-x: clip; }

/* Ensure Radix poppers (e.g., Select/Command) have solid surface */
:where([data-radix-popper-content-wrapper]) > * {
  background-color: var(--popover) !important;
  color: var(--popover-foreground) !important;
  border-color: var(--border) !important;
}

/* Hero glow utility for landing */
.page-glow { position: relative; }
.page-glow::before {
  content: "";
  position: absolute;
  inset: -20rem -10rem auto -10rem;
  height: 30rem;
  background: radial-gradient(80% 60% at 30% 30%, rgba(88,120,255,0.28), color-mix(in srgb, var(--primary) 22%, transparent) 35%, transparent 70%);
  filter: blur(80px);
  pointer-events: none;
  z-index: 0;
}

/* Animated double handwritten underline for hero word */
.scribble-underline {
  position: relative;
  display: inline-block;
}

.scribble-underline-svg {
  position: absolute;
  left: 0;
  right: 0;
  bottom: -0.15em;
  height: 0.8em;
  width: 100%;
  pointer-events: none;
}

@keyframes draw-stroke {
  0% { stroke-dashoffset: var(--stroke-length, 120); }
  100% { stroke-dashoffset: 0; }
}

.scribble-underline path {
  fill: none;
  stroke: var(--primary);
  stroke-width: 6;
  stroke-linecap: round;
  stroke-linejoin: round;
  filter: drop-shadow(0 0 6px color-mix(in srgb, var(--primary) 45%, transparent));
  stroke-dasharray: var(--stroke-length, 120);
  stroke-dashoffset: var(--stroke-length, 120);
  animation: draw-stroke 900ms ease forwards;
}

.scribble-underline path:nth-of-type(2) {
  animation-delay: 140ms;
}

/* Light stroke improvement for overlaid UI against bright media */
.ig-text-shadow {
  text-shadow: 0 1px 2px rgba(0,0,0,0.6);
}

/* Slide-up on mount */
@keyframes slide-up-fade {
  0% {
    opacity: 0;
    transform: translateY(6rem) scale(0.985);
    filter: blur(6px);
  }
  70% {
    opacity: 1;
    transform: translateY(0.6rem) scale(1);
    filter: blur(0);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
    filter: blur(0);
  }
}

.animate-slide-up {
  animation: slide-up-fade 1600ms cubic-bezier(0.16, 1, 0.3, 1) 420ms both;
  will-change: transform, opacity, filter;
}

/* Subtle pulsing glow for mobile (used for Pro plan fallback border) */
@keyframes subtle-pulse-glow {
  0%   { opacity: 0.22; }
  50%  { opacity: 0.55; }
  100% { opacity: 0.22; }
}

.mobile-pulse-glow { opacity: 0.3; }
@media (max-width: 768px) {
  .mobile-pulse-glow { animation: none; }
}
@media (prefers-reduced-motion: reduce) {
  .mobile-pulse-glow { animation: none !important; }
}

/* Outward ring pulse (independent of hover) for mobile
   Affects a positioned element with the .mobile-border-pulse class. */
@keyframes mobile-ring-pulse {
  0%   { box-shadow: 0 0 0 0 var(--pulse-color, rgba(255,255,255,0.6)); opacity: 0.9; }
  35%  { box-shadow: 0 0 0 2.6rem rgba(255,255,255,0); opacity: 0.6; }
  100% { box-shadow: 0 0 0 3.6rem rgba(255,255,255,0); opacity: 0; }
}
.mobile-border-pulse { opacity: 1; }
@media (max-width: 768px) {
  /* centered to the element but emits from the border using box-shadow spread */
  .mobile-border-pulse::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    box-shadow: 0 0 0 0 var(--pulse-color, rgba(255,255,255,0.7));
    opacity: 0.9;
    animation: mobile-ring-pulse 1.8s cubic-bezier(0.22, 1, 0.36, 1) infinite;
    pointer-events: none;
    will-change: box-shadow, opacity;
  }
}
@media (prefers-reduced-motion: reduce) {
  .mobile-border-pulse { animation: none !important; }
  .mobile-border-pulse::before { animation: none !important; }
}

/* removed radial-gradient pulse in favor of border ring pulse */

/* Accordion smooth open/close */
@keyframes accordion-down {
  0%   { height: 0; opacity: 0; transform: translateY(-0.15rem); }
  60%  { opacity: 1; }
  100% { height: var(--radix-accordion-content-height); opacity: 1; transform: translateY(0); }
}

@keyframes accordion-up {
  0%   { height: var(--radix-accordion-content-height); opacity: 1; transform: translateY(0); }
  40%  { opacity: 1; }
  100% { height: 0; opacity: 0; transform: translateY(-0.1rem); }
}

.animate-accordion-down {
  animation: accordion-down 340ms cubic-bezier(0.22, 1, 0.36, 1) both;
  will-change: height, opacity, transform;
}

.animate-accordion-up {
  animation: accordion-up 260ms cubic-bezier(0.22, 1, 0.36, 1) both;
  will-change: height, opacity, transform;
}

/* Shiny text sweep (used for NEW badge) */
@keyframes shine {
  0%   { background-position: 120% 0; }
  100% { background-position: -20% 0; }
}

.animate-shine {
  animation: shine 5s linear infinite;
  background-size: 200% 100%;
}

.shiny-text {
  /* Subtle base text + highlight sweep */
  color: #e7ecffcc;
  background-image: linear-gradient(120deg, rgba(255,255,255,0) 40%, rgba(255,255,255,0.85) 50%, rgba(255,255,255,0) 60%);
  -webkit-background-clip: text;
  background-clip: text;
}

@media (prefers-reduced-motion: reduce) {
  .animate-shine { animation: none !important; }
}

/* NEW badge styling aligned with site theme (darker gradient) */
.badge-new {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--primary) 70%, var(--popover)) 0%,
    color-mix(in srgb, var(--primary) 48%, var(--card)) 52%,
    #15c0f6 100%
  );
  color: color-mix(in srgb, var(--foreground) 92%, white);
  border: none;
  /* Do not set position here; allow utility classes like 'absolute' to control it */
  overflow: hidden;
  box-shadow:
    0 0 0.45rem rgba(21, 192, 246, 0.35),
    0 0 1.1rem color-mix(in srgb, var(--primary) 35%, rgba(21,192,246,0));
}

.badge-new::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background-image: linear-gradient(120deg, rgba(255,255,255,0) 40%, rgba(255,255,255,0.35) 50%, rgba(255,255,255,0) 60%);
  background-size: 200% 100%;
  background-position: 120% 0;
  animation: shine 2s linear infinite;
  pointer-events: none;
}

.badge-new::before {
  content: "";
  position: absolute;
  inset: -0.15rem;
  border-radius: inherit;
  background: linear-gradient(135deg, color-mix(in srgb, var(--primary) 55%, var(--background)) 0%, #15c0f6 100%);
  filter: blur(8px);
  opacity: 0.45;
  z-index: -1; /* Behind the badge content */
}

@keyframes attachment-error-shake {
  0%, 100% { transform: translateX(0); }
  15%, 45%, 75% { transform: translateX(-0.2rem); }
  30%, 60%, 90% { transform: translateX(0.2rem); }
}

.animate-attachment-error-shake {
  animation: attachment-error-shake 420ms cubic-bezier(0.36, 0, 0.66, -0.56) both;
}

/* Marquee animations for testimonials */
@keyframes marquee {
  0% { transform: translateX(0); }
  100% { transform: translateX(calc(-100% - var(--gap))); }
}

@keyframes marquee-vertical {
  0% { transform: translateY(0); }
  100% { transform: translateY(calc(-100% - var(--gap))); }
}

.animate-marquee {
  animation: marquee var(--duration) linear infinite;
}

.animate-marquee-vertical {
  animation: marquee-vertical var(--duration) linear infinite;
}

/* Wiggle animation for pointing emoji */
@keyframes wiggle {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-0.4rem); }
  75% { transform: translateX(0.15rem); }
}
